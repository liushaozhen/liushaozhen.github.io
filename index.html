<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="不太可能的事也许今天实现，根本不可能的事也许明天会实现">
<meta property="og:type" content="website">
<meta property="og:title" content="lucian">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="lucian">
<meta property="og:description" content="不太可能的事也许今天实现，根本不可能的事也许明天会实现">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="lucian">
<meta name="twitter:description" content="不太可能的事也许今天实现，根本不可能的事也许明天会实现">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"right","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>

  <title> lucian </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-right 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">lucian</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/09/hexo的markdown文档中插入图片/" itemprop="url">
                  hexo的markdown文档中插入图片
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-03-09T15:20:31+08:00" content="2017-03-09">
              2017-03-09
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/工具/" itemprop="url" rel="index">
                    <span itemprop="name">工具</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>在用hexo写博客的时候，有时候会需要插入图片，markdown语法中不可以直接存图片，只能写图片的地址。<br>在hexo中，有两种方法添加图片：</p>
<ul>
<li>使用本地图片路径：在hexo/source下有images文件，没有可以自己建立。这里可以存图片。然后在markdown文档中写路径，路径如下 ： ..\images\xxx.xxx</li>
<li>使用地址，可以将图片存到网络上，例如各种图床。然后写地址即可</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/09/js中的偏移量/" itemprop="url">
                  js中的偏移量
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-03-09T15:06:40+08:00" content="2017-03-09">
              2017-03-09
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/javascript/" itemprop="url" rel="index">
                    <span itemprop="name">javascript</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>在网页中用js进行一些宽度高度处理的时候经常会用到偏移量，经过各种查询，总结出下图：</p>
</blockquote>
<p><img src="..\images\偏移量.png" alt="偏移量.png"></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/25/knockout/" itemprop="url">
                  Knockout
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-02-25T15:42:12+08:00" content="2017-02-25">
              2017-02-25
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/knockout/" itemprop="url" rel="index">
                    <span itemprop="name">knockout</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-Knockout如何使用"><a href="#1-Knockout如何使用" class="headerlink" title="1.Knockout如何使用"></a>1.Knockout如何使用</h1><h2 id="1-1-引入Konckout文件"><a href="#1-1-引入Konckout文件" class="headerlink" title="1.1. 引入Konckout文件"></a>1.1. 引入Konckout文件</h2><p>   <code>&lt;script src=&quot;http://design.yyuap.com/static/knockout/knockout-3.2.0.debug.js&quot;&gt;&lt;/script&gt;</code></p>
<h2 id="1-2-在js中定义一个view-model并绑定"><a href="#1-2-在js中定义一个view-model并绑定" class="headerlink" title="1.2. 在js中定义一个view model并绑定"></a>1.2. 在js中定义一个view model并绑定</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&lt;script type=&apos;text/JavaScript&apos;&gt;</div><div class="line">	//定义viewModel</div><div class="line">	var viewModel=&#123;</div><div class="line">		name:&apos;lsz&apos;,</div><div class="line">		age:&apos;23&apos;</div><div class="line">	&#125;;</div><div class="line">	//开始绑定</div><div class="line">	ko.applyBindings(viewModel);</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<h2 id="1-3-在knockout中，每个HTML的DOM对象都是通过data-bind属性来绑定数据的。"><a href="#1-3-在knockout中，每个HTML的DOM对象都是通过data-bind属性来绑定数据的。" class="headerlink" title="1.3. 在knockout中，每个HTML的DOM对象都是通过data-bind属性来绑定数据的。"></a>1.3. 在knockout中，每个HTML的DOM对象都是通过data-bind属性来绑定数据的。</h2><p>例如:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;p data-bind=&quot;text:name&quot;&gt;&lt;/p&gt;</div><div class="line">&lt;p data-bind=&quot;text:age&quot;&gt;&lt;/p&gt;</div></pre></td></tr></table></figure></p>
<p>说明：ko.applyBindings()两个参数，第一个参数是用于绑定的对象。第二个参数（可选），可以指定使用knockout的DOM元素或者容器。例如 <code>ko.applyBindings(viewModel,document,getElementById(&#39;div&#39;))</code>。它现在的功能是只有对id为div的元素和子元素生效</p>
<h1 id="2-knockout的DOM元素上的属性说明"><a href="#2-knockout的DOM元素上的属性说明" class="headerlink" title="2.knockout的DOM元素上的属性说明"></a>2.knockout的DOM元素上的属性说明</h1><h2 id="2-1-text绑定"><a href="#2-1-text绑定" class="headerlink" title="2.1 text绑定"></a>2.1 text绑定</h2><p>text绑定到DOM元素上，使得该元素的文本值为你绑定的参数值。<br>例如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;span data-bind=&quot;text:name&quot;&gt;&lt;/span&gt;</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">  var viewModel=&#123;</div><div class="line">     name:&apos;lsz&apos;</div><div class="line">  &#125;</div><div class="line">  ko.applyBindings(viewModel);</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<p>说明：knockout将参数值设置在指定DOM元素的innerText(IE)或textContent(Firefox)属性上。原来的文本将会被覆盖</p>
<h2 id="2-2-value绑定"><a href="#2-2-value绑定" class="headerlink" title="2.2 value绑定"></a>2.2 value绑定</h2><p>value绑定是关联DOM元素的值到view model的属性上。主要是用在表单控件input，select和textarea上。<br>例如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;p data-bind=&quot;text:name&quot;&gt;&lt;/p&gt;</div><div class="line">&lt;input data-bind=&quot;value: name&quot;/&gt;</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">    var viewModel=&#123;</div><div class="line">       name:ko.observable(&apos;lsz&apos;)</div><div class="line">    &#125;;</div><div class="line">    ko.applyBindings(viewModel);</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<p>说明：以上代码的效果是的，当input的值发生变化的时候，会给viewModel的name属性重新赋值，并在p标签中显示</p>
<h2 id="2-3-visible绑定"><a href="#2-3-visible绑定" class="headerlink" title="2.3 visible绑定"></a>2.3 visible绑定</h2><p>visible绑定到DOM元素上，使得该元素的hidden和visible状态取决于绑定的值<br>例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;div data-bind=&quot;visible:shouldShowMessage&quot;&gt;</div><div class="line">    当visible的值为true的时候，你才可以看到这句话</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">  var viewModel=&#123;</div><div class="line">        shouldShowMessage:true </div><div class="line">    &#125;;</div><div class="line">    ko.applyBindings(viewModel);</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<p>说明：当visible的值为真的时候，元素的display为css设置的样式。 当visible的值为假的时候，元素的display为none，它的优先级高于css定义的任何display的样式</p>
<h2 id="2-4-html绑定"><a href="#2-4-html绑定" class="headerlink" title="2.4 html绑定"></a>2.4 html绑定</h2><p>html绑定到DOM元素上，使得该元素的HTML值为你绑定的参数值<br>例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;div data-bind=&quot;html:content&quot;&gt;</div><div class="line">    &lt;p&gt;原来的html结构&lt;/p&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">    var viewModel=&#123;</div><div class="line">        content:&apos;&lt;h1&gt;标题一&lt;/h1&gt;&apos;</div><div class="line">    &#125;;</div><div class="line">    ko.applyBindings(viewModel);</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<p>说明：knockout将参数值设置到指定DOM元素的innerHTML属性上，元素原来的内容将会被覆盖</p>
<h2 id="2-5-css绑定"><a href="#2-5-css绑定" class="headerlink" title="2.5 css绑定"></a>2.5 css绑定</h2><p>css绑定是添加或删除一个或多个class类名到指定DOM元素上<br>例如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;style type=&quot;text/css&quot;&gt;</div><div class="line">	.bg&#123;</div><div class="line">	    background: red;</div><div class="line">	&#125;</div><div class="line">&lt;/style&gt;</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;div data-bind=&quot;css:&#123;bg:flag&#125;&quot;&gt;</div><div class="line">    &lt;p&gt;css绑定&lt;/p&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">	var viewModel=&#123;</div><div class="line">	    flag:true</div><div class="line">	&#125;;</div><div class="line">	ko.applyBindings(viewModel);</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<p>说明：以上代码的效果是当flag为true的时候，将bg这个类添加到指定DOM元素上。当flag为false的时候，将bg这个类从指定DOM元素上移除</p>
<h2 id="2-6-style绑定"><a href="#2-6-style绑定" class="headerlink" title="2.6 style绑定"></a>2.6 style绑定</h2><p>style是添加或删除一个或多个DOM元素上的style值<br>例如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;div data-bind=&quot;style:&#123;background:flag?&apos;red&apos;:&apos;blue&apos;,color:flag?&apos;blue&apos;:&apos;red&apos;&#125;&quot; &gt;</div><div class="line">    &lt;p&gt;内容&lt;/p&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">    var viewModel=&#123;</div><div class="line">        flag:true</div><div class="line">    &#125;;</div><div class="line">    ko.applyBindings(viewModel);</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<p>说明：以上代码的效果是当flag为true的时候，DOM元素为红背景蓝字体。当flag为flase的时候，DOM元素为蓝背景红字体</p>
<h2 id="2-7-attr绑定"><a href="#2-7-attr绑定" class="headerlink" title="2.7 attr绑定"></a>2.7 attr绑定</h2><p>attr绑定提供了一种可以设置DOM元素的任何属性的值，例如可以设置a标签的title属性，href属性，自定义属性等等<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;a data-bind=&quot;attr:&#123;href:url,title:alt,self:self&#125;&quot;&gt;百度&lt;/a&gt;</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">    var viewModel=&#123;</div><div class="line">       url:&apos;https://www.baidu.com/&apos;,</div><div class="line">       alt:&apos;百度一下&apos;,</div><div class="line">       self:&apos;自定义属性值&apos;</div><div class="line">    &#125;;</div><div class="line">    ko.applyBindings(viewModel);</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<p>说明：以上代码的效果是给a动态绑定了href和title属性已经自定义属性self的值</p>
<h2 id="2-8-checked绑定"><a href="#2-8-checked绑定" class="headerlink" title="2.8 checked绑定"></a>2.8 checked绑定</h2><p>checked绑定可以用于checkbox和redio设置的绑定<br>例如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;input type=&quot;checkbox&quot; data-bind=&quot;checked: checkboxFlag&quot;/&gt;</div><div class="line">&lt;input type=&quot;radio&quot; data-bind=&quot;checked: radioFlag&quot; value=&quot;radioValue&quot;/&gt;</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">    var viewModel=&#123;</div><div class="line">        checkboxFlag: true,</div><div class="line">        radioFlag:&apos;radioValue&apos;</div><div class="line">    &#125;;</div><div class="line">    ko.applyBindings(viewModel);</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<p>说明：以上代码的效果是，当checkboxFlag为true的时候，对应的checkbox被选中。当radioFlag的值等于radio的value的值的时候，对应的元素被选中 </p>
<h2 id="2-9-click绑定"><a href="#2-9-click绑定" class="headerlink" title="2.9 click绑定"></a>2.9 click绑定</h2><p>click绑定在DOM元素上，给元素添加点击事件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;button data-bind=&quot;click: clickFn&quot;&gt;Click&lt;/button&gt;</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">    var viewModel = &#123;</div><div class="line">        clickFn: function () &#123;</div><div class="line">           alert();</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">	ko.applyBindings(viewModel);</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<p>说明：以上代码的效果是，当点击按钮的时候执行函数</p>
<h2 id="2-10-event绑定"><a href="#2-10-event绑定" class="headerlink" title="2.10 event绑定"></a>2.10 event绑定</h2><p>event绑定在DOM元素上，给元素添加指定的事件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;div data-bind=&quot;event: &#123; mouseover: overFn, mouseout: outFn &#125;&quot;&gt;</div><div class="line">	Mouse </div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">    var viewModel = &#123;</div><div class="line">        overFn: function () &#123;</div><div class="line">            alert(&apos;over&apos;);</div><div class="line">        &#125;,</div><div class="line">		outFn:function()&#123;</div><div class="line">		    alert(&apos;out&apos;);</div><div class="line">		&#125;</div><div class="line">    &#125;;</div><div class="line">	ko.applyBindings(viewModel);</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<p>说明：以上代码的效果是，当鼠标划入或划出的时候执行对应的函数</p>
<h2 id="2-11-submit绑定"><a href="#2-11-submit绑定" class="headerlink" title="2.11 submit绑定"></a>2.11 submit绑定</h2><p>submit绑定在form表单上添加指定的事件，以使该form被提交的时候执行指定的函数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;form data-bind=&quot;submit: sub&quot;&gt;</div><div class="line">    ... form contents ...</div><div class="line">    &lt;button type=&quot;submit&quot;&gt;submit&lt;/button&gt;</div><div class="line">&lt;/form&gt;</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">	var viewModel=&#123;</div><div class="line">        sub: function (formElement) &#123;</div><div class="line">            console.log(formElement);</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">    ko.applyBindings(viewModel);</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<p>说明：submit只能用在form表单上，当你使用submit绑定的时候， knockout会阻止form表单默认的submit动作。sub执行的时候，knockout会将整个form表单元素传递到sub函数中</p>
<h2 id="2-12-options绑定"><a href="#2-12-options绑定" class="headerlink" title="2.12 options绑定"></a>2.12 options绑定</h2><p>options绑定控制下拉列表的内容，只能用于select元素<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;select data-bind=&quot;options: options&quot;&gt;&lt;/select&gt;</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">    var viewModel = &#123;</div><div class="line">        options: [&apos;France&apos;, &apos;Germany&apos;, &apos;Spain&apos;]</div><div class="line">    &#125;;</div><div class="line">    ko.applyBindings(viewModel);</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<p>说明：options给select标签增加了options元素，options默认会被展开</p>
<h1 id="3-Knockout的数据绑定"><a href="#3-Knockout的数据绑定" class="headerlink" title="3.Knockout的数据绑定"></a>3.Knockout的数据绑定</h1><h2 id="3-1-单向绑定"><a href="#3-1-单向绑定" class="headerlink" title="3.1. 单向绑定"></a>3.1. 单向绑定</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;p&gt;姓名：&lt;span data-bind=&quot;text:name&quot;&gt;&lt;/span&gt;&lt;/p&gt;	</div><div class="line">&lt;p&gt;年龄：&lt;span data-bind=&quot;text:age&quot;&gt;&lt;/span&gt;&lt;/p&gt;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line"> var viewModel= &#123;</div><div class="line">      name:&apos;lsz&apos;;</div><div class="line">      age:&apos;23&apos;;</div><div class="line">  &#125;</div><div class="line">  ko.applyBindings(viewModel);</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<h2 id="3-2-双向绑定"><a href="#3-2-双向绑定" class="headerlink" title="3.2. 双向绑定"></a>3.2. 双向绑定</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;p&gt;姓名：&lt;span data-bind=&quot;text:name&quot;&gt;&lt;/span&gt;&lt;/p&gt;</div><div class="line">&lt;p&gt;年龄：&lt;span data-bind=&quot;text:age&quot;&gt;&lt;/span&gt;&lt;/p&gt;</div><div class="line">&lt;p&gt;姓名：&lt;input type=&quot;text&quot; data-bind=&quot;value:name&quot;&gt;&lt;/p&gt;</div><div class="line">&lt;p&gt;年龄：&lt;input type=&quot;text&quot; data-bind=&quot;value:age&quot;&gt;&lt;/p&gt;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">  var viewModel=&#123;</div><div class="line">        name:ko.observable(&apos;lsz&apos;),</div><div class="line">        age:ko.observable(&apos;23&apos;)</div><div class="line">    &#125;;</div><div class="line">    ko.applyBindings(viewModel)</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<p>说明：上述代码中，利用ko.observable()实现对属性的监控，当input的值发生改变的时候，span的值也会发生改变</p>
<h2 id="3-3-依赖绑定"><a href="#3-3-依赖绑定" class="headerlink" title="3.3. 依赖绑定"></a>3.3. 依赖绑定</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;p&gt;姓名：&lt;span data-bind=&quot;text:name&quot;&gt;&lt;/span&gt;&lt;/p&gt;</div><div class="line">&lt;p&gt;年龄：&lt;span data-bind=&quot;text:age&quot;&gt;&lt;/span&gt;&lt;/p&gt;</div><div class="line">&lt;p&gt;姓名：&lt;input type=&quot;text&quot; data-bind=&quot;value:name&quot;&gt;&lt;/p&gt;</div><div class="line">&lt;p&gt;年龄：&lt;input type=&quot;text&quot; data-bind=&quot;value:age&quot;&gt;&lt;/p&gt;</div><div class="line">&lt;p&gt;姓名年龄：&lt;span data-bind=&quot;text:nameAge&quot;&gt;&lt;/span&gt;&lt;/p&gt;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&lt;script type=&quot;text/javascript&quot;&gt;</div><div class="line">  var viewModel=&#123;</div><div class="line">        name:ko.observable(&apos;lsz&apos;),</div><div class="line">        age:ko.observable(&apos;23&apos;)</div><div class="line">    &#125;;</div><div class="line">    viewModel.nameAge=ko.computed(function () &#123;</div><div class="line">        return this.name()+this.age();</div><div class="line">    &#125;,viewModel);</div><div class="line">    ko.applyBindings(viewModel);</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<p>说明：ko.computed()用来依赖一个或多个监控属性，并且当其中任何一个依赖对象被改变的时候将会自动更新。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/25/directors客户端路由/" itemprop="url">
                  director客户端路由
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-02-25T15:39:11+08:00" content="2017-02-25">
              2017-02-25
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/director/" itemprop="url" rel="index">
                    <span itemprop="name">director</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="director-js：客户端的路由"><a href="#director-js：客户端的路由" class="headerlink" title="director.js：客户端的路由"></a>director.js：客户端的路由</h1><blockquote>
<p>director是客户端的路由，功能是在不刷新页面的情况下，利用”#”符号组织不同的URL路径。根据不同的URL路径来匹配不同的回调方法。<code>director.js</code> 适用于客户端浏览器以及<code>node.js</code>的服务器端应用，在两者的应用场景里调用方法仅有少量的不同。它非常适合用来开发不需要刷新的单页程序以及node.js应用。<code>director.js</code> 不依赖于任何其他的js库</p>
</blockquote>
<h2 id="1-简单的开始"><a href="#1-简单的开始" class="headerlink" title="1.简单的开始"></a>1.简单的开始</h2><p>上文简单提到： <code>director.js</code> 是通过“#”符号进行路径组织的，例如：</p>
<pre><code>http://www.demo.com/#/show
http://www.demo.com/#/show/list
http://www.demo.com/#/show/single
</code></pre><p>路由注册在URL里的体现是用“#”符号来标识路由的开始，再利用”/“分隔符（分隔符可自定义，后面会讲到）来定义路由片段。客户端路由其实就是通过URL来区分应用程序的不同状态，并且定义在不同的状态下应该做什么事情。当用户访问不同的URL时，<code>director.js</code>会解析路由信息并告知应用程序需要做什么事情。<br>下面是一个简单的例子：</p>
<pre><code>&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;demo&lt;/title&gt;
    &lt;script src=&quot;director.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;ul&gt;
    &lt;li&gt;&lt;a href=&quot;#/author&quot;&gt;author&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;#/books&quot;&gt;books&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;#/books/view/1&quot;&gt;books/view/1&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/body&gt;
&lt;script&gt;

    var author = function () {
                console.log(&quot;author&quot;);
            },
            books = function () {
                console.log(&quot;books&quot;);
            },
            viewBook = function (bookId) {
                console.log(&quot;viewBook: bookId is populated: &quot; + bookId);
            };

    var routes = {
        &apos;/author&apos;: author,
        &apos;/books&apos;: [books, function () {
            console.log(&quot;An inline route handler.&quot;);
        }],
        &apos;/books/view/:bookId&apos;: viewBook
    };

    var router = Router(routes);
    router.init();

&lt;/script&gt;
&lt;/html&gt;
</code></pre><h2 id="2-初始化及路由注册"><a href="#2-初始化及路由注册" class="headerlink" title="2.初始化及路由注册"></a>2.初始化及路由注册</h2><p><code>director.js</code>的主要对象是<code>Router</code>对象，构造方法如下：</p>
<pre><code>var router = new Router(routes);
</code></pre><p>构造方法传入的<code>routes</code>参数是一个路由表对象，它是一个具有键值对结构的对象，路由允许多层的嵌套定义。<br>键值对的键对应URL中传入的路径，一般一个键对应按分隔符切割后的某一部分；而键值对的值则对应该路径需要触发的回调函数名，可以传入一个或多个函数名，传入多个函数名时请使用数组对象。一般来说，回调函数要在路由表对象使用前先声明，否则js会报错。另外，回调函数除非特殊情况，一般不推荐使用匿名函数，请尽量先声明后使用。</p>
<pre><code>var routes = {
    &apos;/dog&apos;: bark,    
    &apos;/cat&apos;: [meow, scratch]
  };
</code></pre><p>上面例子中，对应的URL分别为：<code>#/dog</code> 和 <code>#/cat</code></p>
<p>声明<code>Router</code>对象后，需要调用<code>init()</code>方法进行初始化，如下：</p>
<pre><code>var routes = {
    &apos;/dog&apos;: bark,    
    &apos;/cat&apos;: [meow, scratch]
};

var router = Router(routes);
router.init();
</code></pre><h2 id="3-路由的即时注册"><a href="#3-路由的即时注册" class="headerlink" title="3.路由的即时注册"></a>3.路由的即时注册</h2><p>当我们在开发一些规模比较大的应用的时候，一般做不到一开始就将需要的路径和它对应的回调函数都预先准备好。很多时候，我们都是在做到某一功能时，或者是开发一些独立性比较强耦合度比较低的模块时，才知道我们需要什么样的路径和回调函数。这个时候我们就需要实时注册路由的功能了。 </p>
<p><code>director.js</code> 通过“<code>on</code>”方法，提供对即时注册功能的支持，示例如下：</p>
<pre><code>router.on(&apos;/rabbit&apos;, function(){
　　...
})
</code></pre><h2 id="4-路由事件"><a href="#4-路由事件" class="headerlink" title="4.路由事件"></a>4.路由事件</h2><p>路由事件是路由注册表中一个有固定命名的属性，是指当路由方法<code>router.dispatch()</code>被调用时，路由匹配成功的时定义的需要触发的回调方法（允许定义多个回调方法）。上文即时注册功能里的”on”方法就是一个事件。具体信息如下：</p>
<ul>
<li><code>on</code> ：当路由匹配成功后，需要执行的方法</li>
<li><code>before</code>：在触发“on”方法之前执行的方法</li>
</ul>
<p>仅在客户端有效的方法：</p>
<ul>
<li><code>after</code>：当离开当前注册路径时，需要执行的方法</li>
<li><p><code>once</code>: 当前注册路径仅执行一次的方法</p>
<pre><code>var before = function (id) {
    alert(&quot;direct to : /Home/About/&quot; + id);
},
on = function (id) {
    window.location = &quot;/Home/About/&quot; + id;
};
var routes = {
    &quot;/about/:id&quot;: {
        before: before,
        on: on
    }
}
</code></pre></li>
</ul>
<h2 id="5-配置参数"><a href="#5-配置参数" class="headerlink" title="5.配置参数"></a>5.配置参数</h2><p><code>director.js</code> 通过配置一些可选项的参数从而提升Router对象的灵活性。而这些参数的设置需要通过<code>router.configure()</code>方法实现。</p>
<pre><code>var router = new director.Router(routes).configure(options);
</code></pre><p>具体的配置参数有：</p>
<ul>
<li>recurse：控制路由递归触发方式的参数，可选值为”forward”,”backward”和”false”，客户端的默认值是”false”，而服务端的默认值是”backward”</li>
<li>strict：当值为”false”时，路径允许以”/“结尾（也可以是其他自定义的分隔符）；默认值是”true”，说明默认不允许路径以”/“结尾</li>
<li>async：同步异步控制器，值为”ture”,”false”，默认值为”false”</li>
<li>delimiter：路由分隔符，默认值为”/“</li>
<li>notfound：当路由方法router.dispatch()被调用时，没有匹配到任何路由时触发的方法</li>
<li>on：当路由方法router.dispatch()被调用时，任何一个路由匹配成功后都需要执行的方法；与上文路由事件中的“on”事件的区别类似于全局和局部的概念，路由表中仅针对当前注册的路由；而configure方法中的”on”则针对全局的所有路由</li>
<li>before：当路由方法router.dispatch()被调用时，当任何一个路由匹配成功并在”on”执行之前需要执行的方法；与上文路由事件中的 “before” 事件的区别同上</li>
</ul>
<p>仅在客户端有效的参数：</p>
<ul>
<li>resource：用来进行回调函数绑定的基于字符串的对象。使用该参数能实现回调函数的延迟绑定（原词是 “late-binding”，后面有相关的详细说明）</li>
<li>after：当给定的路径不再是当前激活的路径时触发的方法，可以理解为离开当前路径后触发的方法；与上文路由事件中的 “after” 事件的区别同上</li>
</ul>
<h2 id="5-URL匹配"><a href="#5-URL匹配" class="headerlink" title="5.URL匹配"></a>5.URL匹配</h2><p>在路由事件那一节的示例里，有这么一个路由表达式<code>&quot;/about/:id&quot;</code>，其中”:”后面定义的部分表示实际路径对应的这部分是传入回调函数的参数，例如”<code>#/about/5</code>“中，5就是id参数的值。参数的匹配还可以用嵌套的方式来定义：</p>
<pre><code>var router = Router({
  &apos;/about&apos;: {
    &apos;/:id&apos;: {
      on: on
    }
  }
});
</code></pre><p>在实际应用的过程中，我们的路由可能会变得非常复杂，像”<code>/about/:id</code>“这样简单的表达式并不能满足我们的需求。而<code>director.js</code> 支持利用正则表达式来匹配复杂的路由名称，匹配到的值会作为参数传给回调函数，例如：</p>
<pre><code>var router = Router({
  &apos;/hello&apos;: {
     &apos;/(\\w+)&apos;: {
      on: function (who) { console.log(who) }
    }
  }
});
</code></pre><p>当URL传入’<code>#/hello/world</code>‘，则回调函数的<code>who=world</code><br>支持更为复杂的多参数的传递：</p>
<pre><code>var fn=function (a, b) {
        console.log(a, b);
    };
var router = Router({
    &apos;/hello&apos;: {
        &apos;/world/?([^\/]*)\/([^\/]*)/?&apos;: fn
    }
});
</code></pre><p>当URL传入’<code>#/hello/world/johny/appleseed</code>‘，则回调函数的<code>a=johny,b=applesee</code></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/20/chrome谷歌浏览器一键清楚缓存插件/" itemprop="url">
                  chrome谷歌浏览器一键清楚缓存插件
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-02-20T20:54:53+08:00" content="2017-02-20">
              2017-02-20
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/工具/" itemprop="url" rel="index">
                    <span itemprop="name">工具</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>在前端开发中，浏览器缓存一直是一个很友好又很不友好的朋友。<br>在测试的时候每次都要 ctrl+shift+N  清楚chrome浏览器的缓存是一件很麻烦的事情，不过我找到了一个插件，可以一键清楚chrome浏览器的缓存。<br><a href="http://pan.baidu.com/s/1gf1IJrd" target="_blank" rel="external">点击下载</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/20/fiddler手机抓包/" itemprop="url">
                  fiddler手机抓包
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-02-20T20:34:40+08:00" content="2017-02-20">
              2017-02-20
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/工具/" itemprop="url" rel="index">
                    <span itemprop="name">工具</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="fiddler手机抓包"><a href="#fiddler手机抓包" class="headerlink" title="fiddler手机抓包"></a>fiddler手机抓包</h1><ol>
<li>启动fiddler，打开菜单栏中的 Tools &gt; Fiddler Options，打开“Fiddler Options”对话框。<img src="http://i.imgur.com/EBByW1a.png" alt=""></li>
<li>在Fiddler Options”对话框切换到“Connections”选项卡，然后勾选“Allow romote computers to connect”后面的复选框，然后点击“OK”按钮<img src="http://i.imgur.com/Td3Kuez.png" alt=""></li>
<li>在本机命令行输入：ipconfig，找到本机的ip地址。<img src="http://i.imgur.com/zH6X7xD.png" alt=""></li>
<li>打开android设备的“设置”-&gt;“WLAN”，找到你要连接的网络，在上面长按，然后选择“修改网络”，弹出网络设置对话框，然后勾选“显示高级选项”。<img src="http://i.imgur.com/bTLSLZG.png" alt=""></li>
<li>在“代理”后面的输入框选择“手动”，在“代理服务器主机名”后面的输入框输入电脑的ip地址，在“代理服务器端口”后面的输入框输入8888，然后点击“保存”按钮。 <img src="http://i.imgur.com/kkuAF1J.png" alt=""></li>
<li>然后启动android设备中的浏览器，访问百度的首页，在fiddler中可以看到完成的请求和响应数据。<img src="http://i.imgur.com/Ez3V1xo.png" alt=""></li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/20/fiddler拦截/" itemprop="url">
                  fiddler拦截
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-02-20T20:34:40+08:00" content="2017-02-20">
              2017-02-20
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/工具/" itemprop="url" rel="index">
                    <span itemprop="name">工具</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="用fiddler拦截指定网站数据包并修改数据包教程"><a href="#用fiddler拦截指定网站数据包并修改数据包教程" class="headerlink" title="用fiddler拦截指定网站数据包并修改数据包教程"></a>用fiddler拦截指定网站数据包并修改数据包教程</h1><ol>
<li>打开fiddler抓包工具，在左下底部，输入bpu+你要拦截的网址域名，比如，我要拦截打开百度时发送的数据包，那么我输入：bpu baidu.com或者bpu  www.baidu.com都可以，然后回车，这个时候就会拦截百度相关网址的数据包了，如下图：<br><img src="http://i.imgur.com/KJGHjeI.jpg" alt=""></li>
<li>拦截了以后，你打开百度相关的网址时，可以看到是红色的，数据包实际上没有发送出去的，如图：<img src="http://i.imgur.com/n5cLLiV.jpg" alt=""></li>
<li>点开，然后你就可以修改相关的数据：<img src="http://i.imgur.com/dkPjQDB.jpg" alt=""></li>
<li>修改了数据以后，点击下面的“run to completion”就可以发送出去数据包了：<img src="http://i.imgur.com/hfBjD4T.jpg" alt=""></li>
<li>至此，你就完成了拦截数据包，修改数据包，并发送数据包的全过程，如果要取消掉相应的拦截，可以在左下角之前输入命令的地方，输入：bpu，回车，这样就取消掉了所有的拦截设置，数据就会自动发送出去：<img src="http://i.imgur.com/7NzDKAd.jpg" alt=""></li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/20/axios使用教程/" itemprop="url">
                  axios使用教程
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-02-20T20:28:02+08:00" content="2017-02-20">
              2017-02-20
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/axios/" itemprop="url" rel="index">
                    <span itemprop="name">axios</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>Axios 是一个基于 promise 的 HTTP 库，可以工作于浏览器中，也可以在 node.js 中使用，提供了一个API用来处理 XMLHttpRequests 和 node 的 http 接口</p>
</blockquote>
<h3 id="基本操作"><a href="#基本操作" class="headerlink" title="基本操作"></a>基本操作</h3><ul>
<li>GET</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">axios.get(&apos;https://www.baidu.com&apos; + username)</div><div class="line">  .then(function(response)&#123;</div><div class="line">    console.log(response.data); </div><div class="line">    console.log(response.status); </div><div class="line">  &#125;)</div><div class="line">  .catch(function(err)&#123;</div><div class="line">  	console.log(err);</div><div class="line">  &#125;);</div></pre></td></tr></table></figure>
<ul>
<li>POST</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">axios.post(&apos;/save&apos;, &#123; firstName: &apos;Marlon&apos;, lastName: &apos;Bernardes&apos; &#125;)</div><div class="line">  .then(function(response)&#123;</div><div class="line">    console.log(&apos;saved successfully&apos;);</div><div class="line">  &#125;)</div><div class="line">  .catch(function (err) &#123;</div><div class="line">    console.log(err);</div><div class="line">  &#125;);</div></pre></td></tr></table></figure>
<p>除了 get/post，还可以请求 delete,head,put,patch</p>
<h3 id="同时执行多个请求"><a href="#同时执行多个请求" class="headerlink" title="同时执行多个请求"></a>同时执行多个请求</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">axios.all([</div><div class="line">    axios.get(&apos;https://api.github.com/xxx/1&apos;),</div><div class="line">    axios.get(&apos;https://api.github.com/xxx/2&apos;)</div><div class="line">  ])</div><div class="line">  .then(axios.spread(function (userResp, reposResp) &#123;</div><div class="line">    // 上面两个请求都完成后，才执行这个回调方法</div><div class="line">    console.log(&apos;User&apos;, userResp.data);</div><div class="line">    console.log(&apos;Repositories&apos;, reposResp.data);</div><div class="line">  &#125;));</div></pre></td></tr></table></figure>
<p>当所有的请求都完成后，会收到一个数组，包含着响应对象，其中的顺序和请求发送的顺序相同，可以使用 axios.spread 分割成多个单独的响应对象</p>
<h3 id="自定义请求头"><a href="#自定义请求头" class="headerlink" title="自定义请求头"></a>自定义请求头</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">var config = &#123;</div><div class="line">  essay-headers: &#123;&apos;X-My-Custom-Header&apos;: &apos;Header-Value&apos;&#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">axios.get(&apos;https://api.github.com/users/xxx&apos;, config);</div><div class="line">axios.post(&apos;/save&apos;, &#123; firstName: &apos;Marlon&apos; &#125;, config);</div></pre></td></tr></table></figure>
<h3 id="拦截器"><a href="#拦截器" class="headerlink" title="拦截器"></a>拦截器</h3><p>可以在 then 或者 catch 之前对 requests/responses 进行拦截处理</p>
<p>添加</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var myInterceptor = axios.interceptors.request.use(function () &#123;/*...*/&#125;);</div></pre></td></tr></table></figure>
<p>移除</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">axios.interceptors.request.eject(myInterceptor);</div></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/18/常用正则/" itemprop="url">
                  常用正则
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-02-18T14:59:36+08:00" content="2017-02-18">
              2017-02-18
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/正则/" itemprop="url" rel="index">
                    <span itemprop="name">正则</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>有效数字的正则，不可以以0开头，可以是小数，可以有+或—号<br>    <code>reg=/^[+-]?(\d|([1-9]\d+))(\.\d+)?$/;</code><br>汉字<br>    <code>reg=/\u4e00-\u9fa5/;</code><br>五位回文数<br>    <code>reg=/(\w)(\w)\w\2\1/;</code><br>去掉连续的重复的数字和字符<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">str=&quot;723328744737393hdsdsfjjjjhhhiusaafsdfnjv&quot;;</div><div class="line">reg=/(\w)\1+/g;</div><div class="line">str=str.replace(reg,&quot;$1&quot;);</div></pre></td></tr></table></figure></p>
<p>匹配18-65<br>    <code>reg=/^((1[8-9])|([2-5]\d)|(6[0-5]))$/;</code><br>同时包含数字和字母的用户名 长度在8-15之间<br>    <code>reg=/^(?!\d+$)(?![a-zA-Z]+$)[a-zA-Z0-9]{8,15}$/;</code><br>去掉首位空格<br>    <code>reg=/^ +| +$/g;</code><br>去掉中间多余空格<br>    <code>reg=/ +/g</code><br>验证邮箱<br>    <code>reg=/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/</code><br>验证url<br>    <code>regUrl=new RegExp(&#39;(https?|ftp|file)://[-A-Za-z0-9+&amp;@#/%?=~_|!:,.;]+[-A-Za-z0-9+&amp;@#/%=~_|]&#39;);</code></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/18/js常用方法-持续更新/" itemprop="url">
                  js常用方法-持续更新
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-02-18T14:59:36+08:00" content="2017-02-18">
              2017-02-18
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/javascript/" itemprop="url" rel="index">
                    <span itemprop="name">javascript</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="一、cookie相关操作"><a href="#一、cookie相关操作" class="headerlink" title="一、cookie相关操作"></a>一、cookie相关操作</h2><h3 id="1、添加cookie"><a href="#1、添加cookie" class="headerlink" title="1、添加cookie"></a>1、添加cookie</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * 添加cookie</div><div class="line"> * @param name cookie名称</div><div class="line"> * @param value cookie值</div><div class="line"> * @param expiresHours 多少小时后过期</div><div class="line"> */</div><div class="line">function addCookie(name,value,expiresHours)&#123;</div><div class="line">    var cookieString=name+&quot;=&quot;+escape(value);</div><div class="line">    //判断是否设置过期时间</div><div class="line">    if(expiresHours&gt;0)&#123;</div><div class="line">        var date=new Date();</div><div class="line">        date.setTime(date.getTime+expiresHours*3600*1000);</div><div class="line">        cookieString=cookieString+&quot;; expires=&quot;+date.toGMTString();</div><div class="line">    &#125;</div><div class="line">    document.cookie=cookieString;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="2、获得指定名称的cookie"><a href="#2、获得指定名称的cookie" class="headerlink" title="2、获得指定名称的cookie"></a>2、获得指定名称的cookie</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * 获得指定名称的cookie</div><div class="line"> * @param name cookie名称</div><div class="line"> * @returns  返回cookie值</div><div class="line"> */</div><div class="line">function getCookie(name)&#123;</div><div class="line">    var strCookie=document.cookie;</div><div class="line">    var arrCookie=strCookie.split(&quot;; &quot;);</div><div class="line">    for(var i=0;i&lt;arrCookie.length;i++)&#123;</div><div class="line">        var arr=arrCookie[i].split(&quot;=&quot;);</div><div class="line">        if(arr[0]==name)return arr[1];</div><div class="line">    &#125;</div><div class="line">    return &quot;&quot;;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="3、删除指定名称的cookie"><a href="#3、删除指定名称的cookie" class="headerlink" title="3、删除指定名称的cookie"></a>3、删除指定名称的cookie</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * 删除指定名称的cookie</div><div class="line"> * @param name cookie名称</div><div class="line"> */</div><div class="line">function deleteCookie(name)&#123;</div><div class="line">    var date=new Date();</div><div class="line">    date.setTime(date.getTime()-10000);</div><div class="line">    document.cookie=name+&quot;=v; expires=&quot;+date.toGMTString();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="二、获得url参数"><a href="#二、获得url参数" class="headerlink" title="二、获得url参数"></a>二、获得url参数</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * 获得url参数</div><div class="line"> * @param name 参数名称</div><div class="line"> * @returns &#123;*&#125;</div><div class="line"> */</div><div class="line">function getQueryString(name) &#123;</div><div class="line">  var after = window.location.hash.split(&quot;?&quot;)[1];</div><div class="line">  if (after) &#123;</div><div class="line">    var reg = new RegExp(&quot;(^|&amp;)&quot; + name + &quot;=([^&amp;]*)(&amp;|$)&quot;);</div><div class="line">    var r = after.match(reg);</div><div class="line">    if (r != null) &#123;</div><div class="line">      return decodeURIComponent(r[2])</div><div class="line">    &#125;</div><div class="line">    else &#123;</div><div class="line">      return null;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="三、日期时间相关"><a href="#三、日期时间相关" class="headerlink" title="三、日期时间相关"></a>三、日期时间相关</h2><h3 id="1、日期格式化"><a href="#1、日期格式化" class="headerlink" title="1、日期格式化"></a>1、日期格式化</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * 日期格式化</div><div class="line"> * @param data  日期</div><div class="line"> * @param fmt 格式  y年，M月，d日，h时，m分，s秒，q季度，S毫秒</div><div class="line"> * @returns &#123;*&#125;</div><div class="line"> */</div><div class="line">function dataPart(data,fmt)&#123;</div><div class="line">    let o = &#123;</div><div class="line">        &quot;M+&quot;: data.getMonth() + 1, //月份</div><div class="line">        &quot;d+&quot;: data.getDate(), //日</div><div class="line">        &quot;h+&quot;: data.getHours(), //小时</div><div class="line">        &quot;m+&quot;: data.getMinutes(), //分</div><div class="line">        &quot;s+&quot;: data.getSeconds(), //秒</div><div class="line">        &quot;q+&quot;: Math.floor((data.getMonth() + 3) / 3), //季度</div><div class="line">        &quot;S&quot;: data.getMilliseconds() //毫秒</div><div class="line">    &#125;;</div><div class="line">    if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (data.getFullYear() + &quot;&quot;).substr(4 - RegExp.$1.length));</div><div class="line">    for (let k in o)</div><div class="line">        if (new RegExp(&quot;(&quot; + k + &quot;)&quot;).test(fmt)) fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : ((&quot;00&quot; + o[k]).substr((&quot;&quot; + o[k]).length)));</div><div class="line">    return fmt;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="日期加减法"><a href="#日期加减法" class="headerlink" title="日期加减法"></a>日期加减法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div></pre></td><td class="code"><pre><div class="line">/*</div><div class="line"> *   功能:日期减的功能</div><div class="line"> *   参数:interval,字符串表达式，表示要添加的时间间隔.y年，q季度，mon月，w周，d天，h时，min分，s秒</div><div class="line"> *   参数:number,数值表达式，表示要添加的时间间隔的个数. 加法传正数，减法传负数</div><div class="line"> *   参数:date,时间对象.</div><div class="line"> *   返回:新的时间对象.</div><div class="line"> *   </div><div class="line"> */</div><div class="line">export function dateSubtract(interval,number,date) &#123;</div><div class="line">    switch (interval) &#123;</div><div class="line">        case   &quot;y&quot;   : &#123;</div><div class="line">            date.setFullYear(date.getFullYear() + number);</div><div class="line">            return date;</div><div class="line">            break;</div><div class="line">        &#125;</div><div class="line">        case   &quot;q&quot;   : &#123;</div><div class="line">            date.setMonth(date.getMonth() + number * 3);</div><div class="line">            return date;</div><div class="line">            break;</div><div class="line">        &#125;</div><div class="line">        case   &quot;mon&quot;   : &#123;</div><div class="line">            date.setMonth(date.getMonth() + number);</div><div class="line">            return date;</div><div class="line">            break;</div><div class="line">        &#125;</div><div class="line">        case   &quot;w&quot;   : &#123;</div><div class="line">            date.setDate(date.getDate() + number * 7);</div><div class="line">            return date;</div><div class="line">            break;</div><div class="line">        &#125;</div><div class="line">        case   &quot;d&quot;   : &#123;</div><div class="line">            date.setDate(date.getDate() + number);</div><div class="line">            return date;</div><div class="line">            break;</div><div class="line">        &#125;</div><div class="line">        case   &quot;h&quot;   : &#123;</div><div class="line">            date.setHours(date.getHours() + number);</div><div class="line">            return date;</div><div class="line">            break;</div><div class="line">        &#125;</div><div class="line">        case   &quot;min&quot;   : &#123;</div><div class="line">            date.setMinutes(date.getMinutes() + number);</div><div class="line">            return date;</div><div class="line">            break;</div><div class="line">        &#125;</div><div class="line">        case   &quot;s&quot;   : &#123;</div><div class="line">            date.setSeconds(date.getSeconds() + number);</div><div class="line">            return date;</div><div class="line">            break;</div><div class="line">        &#125;</div><div class="line">        default   : &#123;</div><div class="line">            date.setDate(date.getDate() + number);</div><div class="line">            return date;</div><div class="line">            break;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="四、获得ie浏览器版本"><a href="#四、获得ie浏览器版本" class="headerlink" title="四、获得ie浏览器版本"></a>四、获得ie浏览器版本</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">function getBrowserVersion() &#123;</div><div class="line">			var userAgent = navigator.userAgent.toLowerCase();</div><div class="line">			if (userAgent.match(/msie ([\d.]+)/) != null) &#123;//ie6--ie9</div><div class="line">				uaMatch = userAgent.match(/msie ([\d.]+)/);</div><div class="line">				return &apos;IE&apos; + uaMatch[1].match(/\d/);</div><div class="line">			&#125; else if(userAgent.match(/(trident)\/([\w.]+)/)) &#123;</div><div class="line">				uaMatch = userAgent.match(/trident\/([\w.]+)/);</div><div class="line">				switch (uaMatch[1]) &#123;</div><div class="line">					case &quot;4.0&quot;:</div><div class="line">						return &quot;IE8&quot;;</div><div class="line">						break;</div><div class="line">					case &quot;5.0&quot;:</div><div class="line">						return &quot;IE9&quot;;</div><div class="line">						break;</div><div class="line">					case &quot;6.0&quot;:</div><div class="line">						return &quot;IE10&quot;;</div><div class="line">						break;</div><div class="line">					case &quot;7.0&quot;:</div><div class="line">						return &quot;IE11&quot;;</div><div class="line">						break;</div><div class="line">					default:</div><div class="line">						return &quot;undefined&quot;;</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">			return &quot;undefined&quot;;</div><div class="line">		&#125;</div></pre></td></tr></table></figure>
<h2 id="五、原生js，DOM元素相关操作"><a href="#五、原生js，DOM元素相关操作" class="headerlink" title="五、原生js，DOM元素相关操作"></a>五、原生js，DOM元素相关操作</h2><h3 id="1、获得指定元素的索引"><a href="#1、获得指定元素的索引" class="headerlink" title="1、获得指定元素的索引"></a>1、获得指定元素的索引</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * 获得指定元素的索引</div><div class="line"> * @param ele 指定元素</div><div class="line"> * @returns &#123;number&#125; 索引</div><div class="line"> */</div><div class="line">function getIndex(ele) &#123;</div><div class="line">    var index = 0;</div><div class="line">    var p = ele.previousSibling;</div><div class="line">    while (p) &#123;</div><div class="line">        if (p.nodeType === 1) &#123;</div><div class="line">            index++;</div><div class="line">        &#125;</div><div class="line">        p = p.previousSibling;</div><div class="line">    &#125;</div><div class="line">    return index;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="2、计算任意元素距离文档上边和左边的绝对偏移量"><a href="#2、计算任意元素距离文档上边和左边的绝对偏移量" class="headerlink" title="2、计算任意元素距离文档上边和左边的绝对偏移量"></a>2、计算任意元素距离文档上边和左边的绝对偏移量</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * 计算任意元素距离文档上边和左边的绝对偏移量</div><div class="line"> * @param ele</div><div class="line"> * @returns &#123;&#123;t: (*|Number|number)距离上边的偏移量, l: (*|Number|number)距离左边的偏移量&#125;&#125;</div><div class="line"> */</div><div class="line">function offset(ele) &#123;</div><div class="line">    var top = ele.offsetTop;</div><div class="line">    var left = ele.offsetLeft;</div><div class="line">    var parent = ele.offsetParent;</div><div class="line">    while (parent) &#123;</div><div class="line">        if (window.navigator.userAgent(&quot;MSIE 8&quot;) == -1) &#123;</div><div class="line">            top += parent.offsetTop + parent.clientTop;</div><div class="line">            left += parent.offsetLeft + parent.clientLeft</div><div class="line">        &#125; else &#123;</div><div class="line">            top += parent.offsetTop;</div><div class="line">            left += parent.offsetLeft;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    return &#123;t: top, l: left&#125;;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="3、类数组转换为数组"><a href="#3、类数组转换为数组" class="headerlink" title="3、类数组转换为数组"></a>3、类数组转换为数组</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * 类数组转换为数组</div><div class="line"> * @param likeArray 类数组</div><div class="line"> * @returns &#123;Array&#125; 数组</div><div class="line"> */</div><div class="line">function listToArray(likeArray) &#123;</div><div class="line">    try &#123;</div><div class="line">        return [].slice.call(likeArray);</div><div class="line">    &#125; catch (e) &#123;</div><div class="line">        var ary = [];</div><div class="line">        for (var i = 0; i &lt; likeArray; i++) &#123;</div><div class="line">            ary[ary.length] = likeArray[i];</div><div class="line">        &#125;</div><div class="line">        return ary;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="4、获得指定元素的所有的元素哥哥弟弟节点"><a href="#4、获得指定元素的所有的元素哥哥弟弟节点" class="headerlink" title="4、获得指定元素的所有的元素哥哥弟弟节点"></a>4、获得指定元素的所有的元素哥哥弟弟节点</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * 获得指定元素的所有的元素哥哥弟弟节点</div><div class="line"> * @param ele 指定元素</div><div class="line"> * @returns &#123;Array&#125; 哥哥弟弟，顺序和文档顺序相同</div><div class="line"> */</div><div class="line">function siblings(ele) &#123;</div><div class="line">    var parent = ele.parentNode;</div><div class="line">    var children = parent.children;//所有元素节点，在ie中还会包括注释节点</div><div class="line">    var ary = [];</div><div class="line">    for (var i = 0; i &lt; children.length; i++) &#123;</div><div class="line">        if (children[i].nodeType === 1 &amp;&amp; children[i] != ele) &#123;</div><div class="line">            ary.push(children[i]);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    return ary;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="5、获得指定元素相邻的哥哥元素节点"><a href="#5、获得指定元素相邻的哥哥元素节点" class="headerlink" title="5、获得指定元素相邻的哥哥元素节点"></a>5、获得指定元素相邻的哥哥元素节点</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * 获得指定元素相邻的哥哥元素节点</div><div class="line"> * @param ele 指定元素</div><div class="line"> * @returns &#123;Object&#125; 元素节点</div><div class="line"> */</div><div class="line">function previous(ele) &#123;</div><div class="line">    if (typeof ele.previousElementSibling == &quot;object&quot;) &#123;//如果没有哥哥元素节点，或者支持这个方法  if里直接写 ele.previousElementSibling会有问题</div><div class="line">        return ele.previousElementSibling;</div><div class="line">    &#125; else &#123;</div><div class="line">        var p = ele.previousSibling;</div><div class="line">        while (p) &#123;</div><div class="line">            if (p.nodeType === 1) &#123;</div><div class="line">                return p;</div><div class="line">            &#125;</div><div class="line">            p = p.previousSibling;</div><div class="line">        &#125;</div><div class="line">        return null;//如果没有哥哥节点，返回null</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="6、获得指定元素相邻的弟弟元素节点"><a href="#6、获得指定元素相邻的弟弟元素节点" class="headerlink" title="6、获得指定元素相邻的弟弟元素节点"></a>6、获得指定元素相邻的弟弟元素节点</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * 获得指定元素相邻的弟弟元素节点</div><div class="line"> * @param ele 指定元素</div><div class="line"> * @returns &#123;Object&#125;</div><div class="line"> */</div><div class="line">function next(ele) &#123;</div><div class="line">    if (typeof ele.nextElementSibling == &quot;object&quot;) &#123;</div><div class="line">        return ele.nextElementSibling;</div><div class="line">    &#125;</div><div class="line">    var next = ele.nextSibling;</div><div class="line">    while (next) &#123;</div><div class="line">        if (next.nodeType === 1) &#123;</div><div class="line">            return next;</div><div class="line">        &#125;</div><div class="line">        next = next.nextSibling;</div><div class="line">    &#125;</div><div class="line">    return null;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="7、获得指定元素所有的哥哥元素节点"><a href="#7、获得指定元素所有的哥哥元素节点" class="headerlink" title="7、获得指定元素所有的哥哥元素节点"></a>7、获得指定元素所有的哥哥元素节点</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * 获得指定元素所有的哥哥元素节点</div><div class="line"> * @param ele 指定元素</div><div class="line"> * @returns &#123;Array&#125; 哥哥元素节点数组</div><div class="line"> */</div><div class="line">function previousAll(ele) &#123;</div><div class="line">    var ary = [];</div><div class="line">    var p = ele.previousSibling;</div><div class="line">    while (p) &#123;</div><div class="line">        if (p.nodeType === 1) &#123;</div><div class="line">            ary.push(p);</div><div class="line">        &#125;</div><div class="line">        p = p.previousSibling;</div><div class="line">    &#125;</div><div class="line">    return ary;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="8、获得指定元素所有的弟弟元素节点"><a href="#8、获得指定元素所有的弟弟元素节点" class="headerlink" title="8、获得指定元素所有的弟弟元素节点"></a>8、获得指定元素所有的弟弟元素节点</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * 获得指定元素所有的弟弟元素节点</div><div class="line"> * @param ele 指定元素</div><div class="line"> * @returns &#123;Array&#125; 弟弟元素节点数组</div><div class="line"> */</div><div class="line">function nextAll(ele) &#123;</div><div class="line">    var ary = [];</div><div class="line">    var next = ele.nextSibling;</div><div class="line">    while (next) &#123;</div><div class="line">        if (next.nodeType === 1) &#123;</div><div class="line">            ary.push(next);</div><div class="line">        &#125;</div><div class="line">        next = next.nextSibling;</div><div class="line">    &#125;</div><div class="line">    return ary;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>###　9、获得指定元素的第一个元素子节点</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * 获得指定元素的第一个元素子节点</div><div class="line"> * @param parent 指定元素</div><div class="line"> * @returns &#123;Object&#125; 元素节点</div><div class="line"> */</div><div class="line">function firstChild(parent) &#123;</div><div class="line">    if (typeof parent.firstElementChild == &quot;object&quot;) &#123;</div><div class="line">        return parent.firstElementChild;</div><div class="line">    &#125;</div><div class="line">    var first = parent.firstChild;</div><div class="line">    while (first) &#123;</div><div class="line">        if (first.nodeType === 1) &#123;</div><div class="line">            return first;</div><div class="line">        &#125;</div><div class="line">        first = first.nextSibling;</div><div class="line">    &#125;</div><div class="line">    return null;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="10、获得指定元素的最后一个元素子节点"><a href="#10、获得指定元素的最后一个元素子节点" class="headerlink" title="10、获得指定元素的最后一个元素子节点"></a>10、获得指定元素的最后一个元素子节点</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * 获得指定元素的最后一个元素子节点</div><div class="line"> * @param parent 指定元素</div><div class="line"> * @returns &#123;Object&#125; 元素节点</div><div class="line"> */</div><div class="line">function lastChild(parent) &#123;</div><div class="line">    if (typeof parent.lastElementChild == &quot;object&quot;) &#123;</div><div class="line">        return parent.lastElementChild;</div><div class="line">    &#125;</div><div class="line">    var last = parent.lastChild;</div><div class="line">    while (last) &#123;</div><div class="line">        if (last.nodeType === 1) &#123;</div><div class="line">            return last;</div><div class="line">        &#125;</div><div class="line">        last = last.previousSibling;</div><div class="line">    &#125;</div><div class="line">    return null;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="11、获得parent所有的子元素节点"><a href="#11、获得parent所有的子元素节点" class="headerlink" title="11、获得parent所有的子元素节点"></a>11、获得parent所有的子元素节点</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * 获得parent所有的子元素节点,兼容ie，还可以获得指定标签名tagName的子元素</div><div class="line"> * @param parent 父元素</div><div class="line"> * @param tagName 子元素的名称</div><div class="line"> * @returns &#123;Array&#125; 数组</div><div class="line"> */</div><div class="line">function children(parent, tagName) &#123;</div><div class="line">    var ary = [];</div><div class="line">    var child = parent.children;//children在ie67中会包括注释节点</div><div class="line">    if (typeof tagName == &quot;string&quot;) &#123;</div><div class="line">        for (var i = 0; i &lt; child.length; i++) &#123;</div><div class="line">            //if(child[i].nodeType===1&amp;&amp;child[i].nodeName==tagName.toUpperCase())&#123;</div><div class="line">            //if(child[i].nodeType===1&amp;&amp;child[i].tagName==tagName.toUpperCase())&#123;nodeName和tagName：tagName只是元素节点的属性（其它节点是undefined），nodeName是所有的节点</div><div class="line">            if (child[i].tagName === tagName.toUpperCase()) &#123;</div><div class="line">                ary.push(child[i]);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125; else if (tagName === undefined) &#123;</div><div class="line">        for (var i = 0; i &lt; child.length; i++) &#123;</div><div class="line">            if (child[i].nodeType === 1) &#123;</div><div class="line">                ary.push(child[i]);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125; else &#123;</div><div class="line">        throw new Error(&quot;第二个参数标签名错误&quot;);</div><div class="line">    &#125;</div><div class="line">    return ary;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="12、根据类名获得元素"><a href="#12、根据类名获得元素" class="headerlink" title="12、根据类名获得元素"></a>12、根据类名获得元素</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * 根据类名获得元素</div><div class="line"> * @param className  类名，字符串，多个类名以空格分隔</div><div class="line"> * @param parent  父级，可以不写，不写为整个文档</div><div class="line"> * @returns &#123;Array&#125; 数组</div><div class="line"> */</div><div class="line">function getByClassName(className, parent) &#123;</div><div class="line">    parent = parent || document;</div><div class="line">    if (parent.getElementsByClassName) &#123;</div><div class="line">        return parent.getElementsByClassName(className);</div><div class="line">    &#125;</div><div class="line">    var regTrim = /^ +| +$/g;</div><div class="line">    className = className.replace(regTrim, &quot;&quot;);</div><div class="line">    var allTag = parent.getElementsByTagName(&quot;*&quot;);</div><div class="line">    var classNameAry = className.split(/ +/);</div><div class="line">    for (var i = 0; i &lt; classNameAry.length; i++) &#123;</div><div class="line">        var reg = new RegExp(&quot;(?:^| )&quot; + classNameAry[i] + &quot;(?: |$)&quot;);</div><div class="line">        var ary = [];</div><div class="line">        for (var k = 0; k &lt; allTag.length; k++) &#123;</div><div class="line">            if (reg.test(allTag[k].className)) &#123;</div><div class="line">                ary.push(allTag[k]);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        allTag = ary;</div><div class="line">    &#125;</div><div class="line">    return allTag;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="13、新增class类名"><a href="#13、新增class类名" class="headerlink" title="13、新增class类名"></a>13、新增class类名</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * 新增class类名</div><div class="line"> * @param ele 元素</div><div class="line"> * @param className 要新增的类名</div><div class="line"> */</div><div class="line">function addClass(ele, className) &#123;</div><div class="line">    if (ele &amp;&amp; ele.nodeType &amp;&amp; ele.nodeType === 1 &amp;&amp; className &amp;&amp; typeof className === &quot;string&quot;) &#123;</div><div class="line">        var reg = new RegExp(&quot;(?:^| )&quot; + className + &quot;(?: |$)&quot;);</div><div class="line">        if (!reg.test(ele.className)) &#123;</div><div class="line">            ele.className = ele.className + &quot; &quot; + className;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="14、移除class类名"><a href="#14、移除class类名" class="headerlink" title="14、移除class类名"></a>14、移除class类名</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * 移除class类名</div><div class="line"> * @param ele 元素</div><div class="line"> * @param className 要移除的类名</div><div class="line"> */</div><div class="line">function removeClass(ele, className) &#123;</div><div class="line">    if (ele &amp;&amp; ele.nodeType &amp;&amp; ele.nodeType === 1 &amp;&amp; className &amp;&amp; typeof className === &quot;string&quot;) &#123;</div><div class="line">        var reg = new RegExp(&quot;(?:^| )&quot; + className + &quot;(?: |$)&quot;, &quot;g&quot;);</div><div class="line">        //ele.className = ele.className.replace(/ /g, &quot;   &quot;);//加空格</div><div class="line">        ele.className = ele.className.replace(reg, &quot; &quot;);</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="15、将新元素添加到老元素后边"><a href="#15、将新元素添加到老元素后边" class="headerlink" title="15、将新元素添加到老元素后边"></a>15、将新元素添加到老元素后边</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * 将新元素添加到老元素后边</div><div class="line"> * @param newEle 新元素</div><div class="line"> * @param oldEle 老元素</div><div class="line"> */</div><div class="line">function insetAfter(newEle, oldEle) &#123;</div><div class="line">    //ele.insertBefore(newEle,oldEle);//如果第二个参数为null，或者不写，相当于appendChild</div><div class="line">    //把newEle添加到oldEle的弟弟的前边</div><div class="line">    oldEle.parentNode.insertBefore(newEle, oldEle.nextSibling);</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="16、将子元素添加到父元素的第一个位置"><a href="#16、将子元素添加到父元素的第一个位置" class="headerlink" title="16、将子元素添加到父元素的第一个位置"></a>16、将子元素添加到父元素的第一个位置</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * 将子元素添加到父元素的第一个位置</div><div class="line"> * @param parent 父元素</div><div class="line"> * @param child 子元素</div><div class="line"> */</div><div class="line">function prepend(parent, child) &#123;</div><div class="line">    //appendChile是在最后</div><div class="line">    parent.insertBefore(child, parent.firstChild);</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="17、获得内敛式或者外嵌式css属性值"><a href="#17、获得内敛式或者外嵌式css属性值" class="headerlink" title="17、获得内敛式或者外嵌式css属性值"></a>17、获得内敛式或者外嵌式css属性值</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * 获得内敛式或者外嵌式css属性值。带单位的属性值去掉单位，不带单位直接返回</div><div class="line"> * @param ele  元素</div><div class="line"> * @param attr  属性名 例如 &quot;left&quot;、&quot;margin&quot;</div><div class="line"> * @returns &#123;Number&#125;</div><div class="line"> */</div><div class="line">function getCss(ele, attr) &#123;</div><div class="line">    var value, reg;</div><div class="line">    if (typeof window.getComputedStyle == &quot;function&quot;) &#123;</div><div class="line">        value = window.getComputedStyle(ele)[attr];</div><div class="line">    &#125; else &#123;</div><div class="line">        if(attr==&quot;opacity&quot;)&#123;</div><div class="line">            var opacity=ele.currentStyle[&quot;filter&quot;];//alpha(opacity=80)</div><div class="line">            var regOpacity=/alpha\(opacity *= *(\d+(\.\d+)?)\)/;</div><div class="line">            value=regOpacity.test(opacity)?parseFloat(RegExp.$1)/100:1;</div><div class="line">        &#125;else&#123;</div><div class="line">            value = ele.currentStyle[attr];</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    reg = /^[+-]?\d+(\.\d+)?(px|pt|em|rem)?$/;</div><div class="line">    if (reg.test(value)) &#123;</div><div class="line">        return parseFloat(value);</div><div class="line">    &#125; else &#123;</div><div class="line">        return value;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="18、设置css属性"><a href="#18、设置css属性" class="headerlink" title="18、设置css属性"></a>18、设置css属性</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * 设置css属性 兼容ie的透明度</div><div class="line"> * @param ele  元素</div><div class="line"> * @param attr  属性名</div><div class="line"> * @param value  属性值</div><div class="line"> */</div><div class="line">DOM.setCss=function setCss(ele,attr,value)&#123;</div><div class="line">    if(attr==&quot;opacity&quot;)&#123;</div><div class="line">        ele.style[&quot;opacity&quot;]=value;</div><div class="line">        ele.style[&quot;filter&quot;]=&quot;alpha(opacity=&quot;+value+&quot;)&quot;;</div><div class="line">    &#125;else&#123;</div><div class="line">        if(isNaN(value))&#123;</div><div class="line">            ele.style[attr]=value;</div><div class="line">        &#125;else&#123;</div><div class="line">            ele.style[attr]=value+&quot;px&quot;;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.jpg"
               alt="lucian" />
          <p class="site-author-name" itemprop="name">lucian</p>
          <p class="site-description motion-element" itemprop="description">不太可能的事也许今天实现，根本不可能的事也许明天会实现</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">27</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">10</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">19</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/liushaozhen" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">lucian</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  



  
  
  

  

  

</body>
</html>
